<!DOCTYPE html>
{% load static %}
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!--  <title>AdminLTE 2 | Dashboard</title>-->
    <title>{% block title %}模板{% endblock %}</title>

    <link rel="shortcut icon" href="{% static 'favicon.ico' %}" type="image/x-icon">

    <!--<script type="text/javascript" src="{% static 'js/jquery/jquery-1.11.1.js' %}"></script>-->
    <script type="text/javascript" src="{% static 'adminlte/jquery/dist/jquery.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'adminlte/bootstrap/dist/js/bootstrap.js' %}"></script>
    <script type="text/javascript" src="{% static 'adminlte/bootstrap/js/button.js' %}"></script>
    <script type="text/javascript" src="{% static 'adminlte/bootstrap/js/alert.js' %}"></script>
    <script type="text/javascript" src="{% static 'adminlte/bootstrap-datetimepicker-master/js/bootstrap-datetimepicker.js' %}"></script>
    <script type="text/javascript" src="{% static 'adminlte/bootstrap-datetimepicker-master/js/locales/bootstrap-datetimepicker.zh-CN.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/submit.js' %}"></script>
    <script type="text/javascript" src="{% static 'adminlte/jquery/dist/jquery.circliful.js' %}"></script>


    <!-- jQuery 3 -->
    <!--<script src="{% static 'bower_components/jquery/dist/jquery.min.js' %}"></script>-->
    <!-- jQuery UI 1.11.4 -->
    <!--<script src="{% static 'bower_components/jquery-ui/jquery-ui.min.js' %}"></script>-->
    <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
    <!--<script>-->
      <!--$.widget.bridge('uibutton', $.ui.button);-->
    <!--</script>-->
    <!-- Bootstrap 3.3.7 -->
    <!--<script src="{% static 'bower_components/bootstrap/dist/js/bootstrap.min.js' %}"></script>-->
    <!-- Morris.js charts -->
    <!--<script src="{% static 'bower_components/raphael/raphael.min.js' %}"></script>-->
    <!--<script src="{% static 'bower_components/morris.js/morris.min.js' %}"></script>-->
    <!-- Sparkline -->
    <!--<script src="{% static 'bower_components/jquery-sparkline/dist/jquery.sparkline.min.js' %}"></script>-->
    <!-- jvectormap -->
    <!--<script src="{% static 'plugins/jvectormap/jquery-jvectormap-1.2.2.min.js' %}"></script>-->
    <!--<script src="{% static 'plugins/jvectormap/jquery-jvectormap-world-mill-en.js' %}"></script>-->
    <!-- jQuery Knob Chart -->
    <!--<script src="{% static 'bower_components/jquery-knob/dist/jquery.knob.min.js' %}"></script>-->
    <!-- daterangepicker -->
    <!--<script src="{% static 'bower_components/moment/min/moment.min.js' %}"></script>-->
    <!--<script src="{% static 'bower_components/bootstrap-daterangepicker/daterangepicker.js' %}"></script>-->
    <!-- datepicker -->
    <!--<script src="{% static 'bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js' %}"></script>-->
    <!-- Bootstrap WYSIHTML5 -->
    <!--<script src="{% static 'plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js' %}"></script>-->
    <!-- Slimscroll -->
    <!--<script src="{% static 'bower_components/jquery-slimscroll/jquery.slimscroll.min.js' %}"></script>-->
    <!-- FastClick -->
    <!--<script src="{% static 'bower_components/fastclick/lib/fastclick.js' %}"></script>-->

    <!-- AdminLTE App 菜单折叠 -->
    <script src="{% static 'adminlte/dist/js/adminlte.min.js' %}"></script>
    <!-- AdminLTE dashboard demo (This is only for demo purposes) -->
    <!--<script src="{% static 'dist/js/pages/dashboard.js' %}"></script>-->
    <!-- AdminLTE for demo purposes 右边主题颜色设置 -->
    <script src="{% static 'adminlte/dist/js/demo.js' %}"></script>


    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.7 -->
    <link rel="stylesheet" href="{% static 'adminlte/bootstrap/dist/css/bootstrap.min.css' %}">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="{% static 'adminlte/font-awesome/css/font-awesome.min.css' %}">
    <!-- Ionicons -->
    <link rel="stylesheet" href="{% static 'adminlte/Ionicons/css/ionicons.min.css' %}">
    <!-- Theme style -->
    <link rel="stylesheet" href="{% static 'adminlte/dist/css/AdminLTE.min.css' %}">
    <!-- AdminLTE Skins. Choose a skin from the css/skins
         folder instead of downloading all of them to reduce the load. -->
    <link rel="stylesheet" href="{% static 'adminlte/dist/css/skins/_all-skins.min.css' %}">
    <!-- Morris chart -->
    <link rel="stylesheet" href="{% static 'adminlte/morris.js/morris.css' %}">
    <!-- jvectormap -->
    <link rel="stylesheet" href="{% static 'adminlte/jvectormap/jquery-jvectormap.css' %}">
    <!-- Date Picker -->
    <link rel="stylesheet" href="{% static 'adminlte/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css' %}">
    <!-- Daterange picker -->
    <link rel="stylesheet" href="{% static 'adminlte/bootstrap-daterangepicker/daterangepicker.css' %}">
    <!-- bootstrap wysihtml5 - text editor -->
    <link rel="stylesheet" href="{% static 'adminlte/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css' %}">

    <link href="{% static 'css/base.css' %}" rel="stylesheet" type="text/css"/>


</head>

<body class="hold-transition skin-blue sidebar-mini">
<div class="wrapper">

    <header class="main-header">
    <!-- Logo -->
        <a href="{% url 'select_default_image_control' %}" class="logo" style='font-family: "华文行楷","华文楷体","Microsoft YaHei","黑体","宋体","sans-serif";font-size:30px;'>
            <!-- mini logo for sidebar mini 50x50 pixels -->
            <span class="logo-mini"><b>PXE</b>  Ctrl</span>
            <!-- logo for regular state and mobile devices -->
            <span class="logo-lg"><b>PXE</b>控制平台</span>
        </a>
        <!-- Header Navbar: style can be found in header.less -->
        <nav class="navbar navbar-static-top">
            <!-- Sidebar toggle button-->
            <a href="#" class="sidebar-toggle" data-toggle="push-menu" role="button">
              <span class="sr-only">Toggle navigation</span>
            </a>

            <div class="navbar-custom-menu">
                <ul class="nav navbar-nav">



                {% if request.session.session_name == 'admin' %}
                <!-- 显示权限申请数量 -->
                <li class="dropdown notifications-menu">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" title="未处理申请数量">
                        <i class="fa fa-bell-o"></i>
                        <span class="label label-warning" id=messege_num>0</span>
                    </a>
                    <ul class="dropdown-menu">
                        <li class="header">You have 10 notifications</li>
                        <li>
                            <!-- inner menu: contains the actual data -->
                            <ul class="menu">
                                <li>
                                    <a href="#">
                                        <i class="fa fa-users text-aqua"></i> 5 new members joined today
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <i class="fa fa-warning text-yellow"></i> Very long description here that may not fit into the
                                        page and may cause design problems
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <i class="fa fa-users text-red"></i> 5 new members joined
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <i class="fa fa-shopping-cart text-green"></i> 25 sales made
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <i class="fa fa-user text-red"></i> You changed your username
                                    </a>
                                </li>
                          </ul>
                        </li>
                        <li class="footer"><a href="{% url 'user_management' %}">查看全部</a></li>
                    </ul>
                </li>
                {% endif %}


                <!-- 正在进行中的任务 -->
                <li class="dropdown tasks-menu" >
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" title="正在进行中的安装任务数量">
                        <i class="fa fa-flag-o"></i>
                        <span class="label label-danger" id=install_num>0</span>
                    </a>
                    <ul class="dropdown-menu">
                        <li class="header">最近10个任务</li>
                        <li>
                            <!-- inner menu: contains the actual data -->
                            <ul class="menu" id="install_describe">
                                <!--显示正在进行中的任务信息-->  
                                <li><!-- Task item -->
                                    <a href="#">
                                    <h3>
                                        Design some buttons
                                        <small class="pull-right">20%</small>
                                    </h3>
                                    <div class="progress xs">
                                        <div class="progress-bar progress-bar-aqua" style="width: 20%" role="progressbar"
                                                aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">
                                            <span class="sr-only">80% Complete</span>
                                        </div>
                                    </div>
                                  </a>
                                </li>
                                <!-- end task item -->
                                <li><!-- Task item -->
                                    <a href="#">
                                        <h3>
                                            Create a nice theme
                                        <small class="pull-right">40%</small>
                                        </h3>
                                        <div class="progress xs">
                                            <div class="progress-bar progress-bar-green" style="width: 40%" role="progressbar"
                                                aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">
                                                <span class="sr-only">40% Complete</span>
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <!-- end task item -->
                                <li><!-- Task item -->
                                    <a href="#">
                                        <h3>
                                            Some task I need to do
                                            <small class="pull-right">60%</small>
                                        </h3>
                                        <div class="progress xs">
                                            <div class="progress-bar progress-bar-red" style="width: 60%" role="progressbar"
                                                aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">
                                                <span class="sr-only">60% Complete</span>
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <!-- end task item -->
                                <li><!-- Task item -->
                                    <a href="#">
                                        <h3>
                                          Make beautiful transitions
                                          <small class="pull-right">80%</small>
                                        </h3>
                                        <div class="progress xs">
                                            <div class="progress-bar progress-bar-yellow" style="width: 80%" role="progressbar"
                                                 aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">
                                              <span class="sr-only">80% Complete</span>
                                          </div>
                                        </div>
                                    </a>
                                </li>
                                <!-- end task item -->
                                
                            </ul>
                        </li>
                        <li class="footer">
                          <a href="{% url 'system_install_status' %}">显示任务详情</a>
                        </li>
                    </ul>
                </li>



                <!-- User Account: style can be found in dropdown.less -->
                <li class="dropdown user user-menu">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        <img src="{% static 'adminlte/dist/img/user2-160x160.jpg' %}" class="user-image" alt="User Image">
                        <span class="hidden-xs">{{ request.session.session_name }}</span>
                    </a>
                    <ul class="dropdown-menu">
                        <!-- User image -->
                        <li class="user-header">
                            <img src="{% static 'adminlte/dist/img/user2-160x160.jpg' %}" class="img-circle" alt="User Image">

                            <p>
                                Django
                                <small>admin</small>
                            </p>
                        </li>
                        <!-- Menu Body -->
                        <li class="user-body">
                            <div class="row">
                                <div class="col-xs-4 text-center">
                                    <a href="#">功能一</a>
                                </div>
                                <div class="col-xs-4 text-center">
                                    <a href="#">功能二</a>
                                </div>
                                <div class="col-xs-4 text-center">
                                    <a href="#">功能三</a>
                                </div>
                            </div>
                            <!-- /.row -->
                        </li>
                        <!-- Menu Footer-->
                        <li class="user-footer">
                            <div class="pull-left">
                                {% if request.session.session_name != '匿名' %}
                                    <a href="{% url 'reset_password' %}" class="btn btn-default btn-flat">修改密码</a>
                                {% endif %}
                            </div>
                            <div class="pull-right">
                                {% if request.session.session_name != '匿名' %}
                                    <a href="{% url 'logout' %}" onClick="if(!confirm('是否确认退出？'))return false;" class="btn btn-default btn-flat">退出</a>
                                {% else %}
                                    <a href="{% url 'logout' %}" class="btn btn-default btn-flat">登录</a>
                                {% endif %}
                            </div>
                        </li>
                    </ul>
                </li>



                <!-- Control Sidebar Toggle Button -->
                <li>
                  <a href="#" data-toggle="control-sidebar"><i class="fa fa-gears"></i></a>
                </li>


              </ul>
            </div>
        </nav>
    </header>


    <!-- Left side column. contains the logo and sidebar -->
    <aside class="main-sidebar">
    <!-- sidebar: style can be found in sidebar.less -->
    <section class="sidebar">
      <!-- Sidebar user panel -->
        <div class="user-panel">
            <div class="pull-left image">
                <img src="{% static 'adminlte/dist/img/user2-160x160.jpg' %}" class="img-circle" alt="User Image">
            </div>
            <div class="pull-left info">
                <p>{{ request.session.session_name }}</p>
                <a href="#"><i class="fa fa-circle text-success"></i> Online</a>
            </div>
        </div>


        <div class="sidebar-form">
            <a href="{% url 'select_boot_control' %}"><div id=current_select style='font-size:15px;'><b>当前选择：</b><br><br><br><br></div></a>
        </div>

        <!--<div class="box-body" id=image_sync title="镜像未完成同步时，可前往96.99服务器检查同步状态！">-->
            <!--<a class="btn btn-block btn-social btn-github">-->
                <!--<i class="fa  fa-bullhorn"></i> 镜像同步状态-->
            <!--</a>-->
        <!--</div>-->

        <!--<div title="镜像未完成同步时，可前往96.99服务器检查同步状态！">-->
            <!--<a class="btn btn-block btn-social btn-google">-->
                <!--<i class="fa fa-bullhorn"></i> 镜像文件未完成同步！-->
            <!--</a>-->
        <!--</div>-->


        <!-- search form -->
        <!--
        <form action="#" method="get" class="sidebar-form">
            <div class="input-group">
                <input type="text" name="q" class="form-control" placeholder="别点了，不会写~~">
                <span class="input-group-btn">
                    <button type="submit" name="search" id="search-btn" class="btn btn-flat"><i class="fa fa-search"></i>
                    </button>
                </span>
            </div>
        </form>
        -->
        <!-- /.search form -->


      <!-- sidebar menu: : style can be found in sidebar.less -->
        <ul class="sidebar-menu" data-widget="tree">
            <li class="header">状态</li>

            <li id=image_sync>
                <a href="#">
                    <i class="fa fa-circle-o text-yellow"></i> <span>镜像同步状态！</span>
                    <span class="pull-right-container">
                        <small class="label pull-right bg-yellow">:</small>
                    </span>
                </a>
            </li>
            <!--<li>-->
                <!--<a href="#">-->
                    <!--<i class="fa fa-circle-o text-aqua"></i> <span>镜像文件已完成同步！</span>-->
                    <!--<span class="pull-right-container">-->
                        <!--<small class="label pull-right bg-green">√</small>-->
                    <!--</span>-->
                <!--</a>-->
            <!--</li>            -->
            <!--<li>-->
                <!--<a href="#">-->
                    <!--<i class="fa fa-circle-o text-red"></i> <span>镜像文件未完成同步！</span>-->
                    <!--<span class="pull-right-container">-->
                        <!--<small class="label pull-right bg-red">×</small>-->
                    <!--</span>-->
                <!--</a>-->
            <!--</li>            -->



            <li class="header">导航</li>

            {% url 'schedule' as Highlighted %}
            <li {% if request.path == Highlighted %}  class="active" {% endif %}>
                <a href="{% url 'schedule' %}" target="_top"><i class="glyphicon glyphicon-calendar"></i> <span>工作值班安排</a>
            </li>

            {% url 'system_install_status' as Highlighted %}
            <li {% if request.path == Highlighted %}  class="active" {% endif %}>
                <a href="{% url 'system_install_status' %}" target="_top"><i class="glyphicon glyphicon-eye-open"></i> <span>装机进度状态</span></a>
            </li>




            <!--Clonezilla选项-->
            <!--<li class="treeview">-->
            <!--<li class="treeview active menu-open">-->
            {% url 'image_file_query_operation' as image_file_query_operation %}
            {% url 'select_default_image_control' as select_default_image_control %}
            {% url 'boot_from_clonezilla_get_log' as boot_from_clonezilla_get_log %}
            {% url 'boot_from_clonezilla_auto' as boot_from_clonezilla_auto %}
            {% url 'image_name_remote_manage' as image_name_remote_manage %}
            {% url 'image_remote_del' as image_remote_del %}
            {% url 'image_remote_restore' as image_remote_restore %}

            <li {% if request.path == image_file_query_operation or request.path == select_default_image_control or request.path == boot_from_clonezilla_get_log  or request.path == boot_from_clonezilla_auto or request.path == image_name_remote_manage or request.path == image_remote_del or request.path == image_remote_restore %}
                    class="treeview active menu-open"
                {% else %}
                    class="treeview"
                {% endif %}
            >
                <a href="{% url 'select_default_image_control' %}" target="_top">
                    <i class="glyphicon glyphicon-grain"></i> <span>PXE装机选项</span>
                    <span class="pull-right-container">
                        <i class="fa fa-angle-left pull-right"></i>
                    </span>
                </a>
                <ul class="treeview-menu">
                    <li {% if request.path == image_name_remote_manage %}  class="active" {% endif %}>
                        <a href="{% url 'image_name_remote_manage' %}" target="_top"><i class="glyphicon glyphicon-transfer"></i>  镜像远程命名</a>
                    </li>
                    <li {% if request.path == image_remote_del %}  class="active" {% endif %}>
                        <a href="{% url 'image_remote_del' %}" target="_top"><i class="glyphicon glyphicon-transfer"></i>  镜像远程删除</a>
                    </li>
                    <li {% if request.path == image_remote_restore %}  class="active" {% endif %}>
                        <a href="{% url 'image_remote_restore' %}" target="_top"><i class="glyphicon glyphicon-transfer"></i>  镜像远程还原</a>
                    </li>
                    <!--{% url 'image_file_query_operation' as Highlighted %}-->
                    <li {% if request.path == image_file_query_operation %}  class="active" {% endif %}>
                        <a href="{% url 'image_file_query_operation' %}" target="_top"><i class="glyphicon glyphicon-leaf"></i>  镜像档案管理</a>
                    </li>
                    <!--{% url 'select_default_image_control' as Highlighted %}-->
                    <li {% if request.path == select_default_image_control %}  class="active" {% endif %}>
                        <a href="{% url 'select_default_image_control' %}" target="_top"><i class="glyphicon glyphicon-check"></i>  默认启动控制</a>
                    </li>
                    <!--{% url 'boot_from_clonezilla_get_log' as Highlighted %}-->
                    <li {% if request.path == boot_from_clonezilla_get_log %}  class="active" {% endif %}>
                        <a href="{% url 'boot_from_clonezilla_get_log' %}" target="_top"><i class="glyphicon glyphicon-bookmark"></i>  最近获取日志</a>
                    </li>
                    <!--{% url 'boot_from_clonezilla_auto' as Highlighted %}-->
                    <li {% if request.path == boot_from_clonezilla_auto %}  class="active" {% endif %}>
                        <a href="{% url 'boot_from_clonezilla_auto' %}" target="_top"><i class="glyphicon glyphicon-ice-lolly-tasted"></i>  自动启动管理</a>
                    </li>
                </ul>
            </li>
            <!--ISO选项-->
            <!--<li class="treeview">-->
            {% url 'select_boot_iso_control' as select_boot_iso_control %}
            {% url 'boot_from_iso_get_log' as boot_from_iso_get_log %}
            <li {% if request.path == select_boot_iso_control or request.path == boot_from_iso_get_log %}
                    class="treeview active menu-open"
                {% else %}
                    class="treeview"
                {% endif %}
            >
                <a href="{% url 'select_boot_iso_control' %}" target="_top">
                    <i class="glyphicon glyphicon-cd"></i> <span>ISO启动选项</span>
                    <span class="pull-right-container">
                        <i class="fa fa-angle-left pull-right"></i>
                    </span>
                </a>
                <ul class="treeview-menu">

                    <li {% if request.path == select_boot_iso_control %}  class="active" {% endif %}>
                        <a href="{% url 'select_boot_iso_control' %}" target="_top"><i class="glyphicon glyphicon-apple"></i>  默认启动控制</a>
                    </li>

                    <li {% if request.path == boot_from_iso_get_log %}  class="active" {% endif %}>
                        <a href="{% url 'boot_from_iso_get_log' %}" target="_top"><i class="glyphicon glyphicon-dashboard"></i><span>  最近获取日志</span></a>
                    </li>
                </ul>
            </li>

            {% url 'select_boot_control' as Highlighted %}
            <li {% if request.path == Highlighted %}  class="active" {% endif %}>
                <a href="{% url 'select_boot_control' %}" target="_top"><i class="glyphicon glyphicon-random"></i> <span>启动方式控制</span><span class="pull-right-container"><small class="label pull-right bg-green">666</small></span></a></li>
            </li>
            {% url 'select_default_samba' as Highlighted %}
            <li {% if request.path == Highlighted %}  class="active" {% endif %}>
                <a href="{% url 'select_default_samba' %}" target="_top"><i class="glyphicon glyphicon-oil"></i> <span>SambaSvr</span></a></li>
            </li>
            {% url 'select_default_http' as Highlighted %}
            <li {% if request.path == Highlighted %}  class="active" {% endif %}>
                <a href="{% url 'select_default_http' %}" target="_top"><i class="glyphicon glyphicon-globe"></i> <span>HttpSvr</span></a></li>
            </li>

            <!--脚本功能-->
            <!--<li class="treeview">-->
                {% url 'generate_bat_file' as generate_bat_file %}
                {% url 'query_disk_smart_info' as query_disk_smart_info %}
                {% url 'wakeonlan' as wakeonlan %}
                {% url 'document' as document %}
                {% url 'dhcp_index' as dhcp_index %}
            <li {% if request.path == generate_bat_file or request.path == query_disk_smart_info or request.path == wakeonlan or request.path == document or request.path == dhcp_index%}
                    class="treeview active menu-open"
                {% else %}
                    class="treeview"
                {% endif %}
            >
                <a href="#">
                    <i class="glyphicon glyphicon-cd"></i> <span>脚本功能</span>
                    <span class="pull-right-container">
                        <i class="fa fa-angle-left pull-right"></i>
                    </span>
                </a>
                <ul class="treeview-menu">

                    <li {% if request.path == dhcp_index %}  class="active" {% endif %}>
                        <a href="{% url 'dhcp_index' %}" target="_top"><span class="glyphicon glyphicon-magnet"></span>  DHCP服务器管理</a>
                    </li>

                    <li {% if request.path == generate_bat_file %}  class="active" {% endif %}>
                        <a href="{% url 'generate_bat_file' %}" target="_top"><span class="glyphicon glyphicon-cloud-download"></span>  生成共享映射脚本</a>
                    </li>

                    <li {% if request.path == query_disk_smart_info %}  class="active" {% endif %}>
                        <a href="{% url 'query_disk_smart_info' %}" target="_top"><span class="	glyphicon glyphicon-floppy-disk"></span>  硬盘S.M.A.R.T.信息</a>
                    </li>

                    <li {% if request.path == wakeonlan %}  class="active" {% endif %}>
                        <a href="{% url 'wakeonlan' %}" target="_top"><span class="glyphicon glyphicon-export"></span>  WOL网启开机</a>
                    </li>

                    <li {% if request.path == document %}  class="active" {% endif %}>
                        <a href="{% url 'document' %}" target="_top"><span class="glyphicon glyphicon-fire"></span>  常用命令</a>
                    </li>
                </ul>
            </li>

            <!--题库-->
            <!--<li class="treeview">-->
            {% url 'questionadd' as questionadd %}
            {% url 'questionlist' as questionlist %}
            {% url 'questiondel' as questiondel %}
            {% url 'exportword' as exportword %}
            {% url 'questiondel' as emptyquestion %}
            <li {% if request.path == questionadd or request.path == questionlist or request.path == questiondel or request.path == exportword or request.path == emptyquestion %}
                    class="treeview active menu-open"
                {% else %}
                    class="treeview"
                {% endif %}
            >
                <a href="#">
                    <i class="glyphicon glyphicon-align-justify"></i> <span>笔试题库</span>
                    <span class="pull-right-container">
                        <i class="fa fa-angle-left pull-right"></i>
                    </span>
                </a>
                <ul class="treeview-menu">

                    <li {% if request.path == questionadd %}  class="active" {% endif %}>
                        <a href="{% url 'questionadd' %}" target="_top"><span class="glyphicon glyphicon-indent-left"></span>  题库增加</a>
                    </li>

                    <li {% if request.path == questionlist %}  class="active" {% endif %}>
                        <a href="{% url 'questionlist' %}" target="_top"><span class="glyphicon glyphicon-list"></span>  题库列表</a>
                    </li>

                </ul>
            </li>


            {% if request.session.session_name == 'admin' %}
            </li>
            {% url 'user_management' as Highlighted %}
            <li {% if request.path == Highlighted %}  class="active" {% endif %}>
                <a href="{% url 'user_management' %}" target="_top"><i class="glyphicon glyphicon-user"></i> <span>用户管理</span></a>
            </li>
            {% endif %}

            <!--其他功能    -->
            <li class="treeview">
                <a href="#">
                    <i class="glyphicon glyphicon-tint"></i> <span>其他功能</span>
                    <span class="pull-right-container">
                        <i class="fa fa-angle-left pull-right"></i>
                    </span>
                </a>
                <ul class="treeview-menu">

                    {% if request.session.session_name == 'admin' %}
                    <li>
                        <a href="/admin/" target="_top"><i class="glyphicon glyphicon-user"></i> <span>  后台管理界面</span></a>
                    </li>

                    {% endif %}
                    <li>
                        <a href="http://192.168.96.26/zabbix/screens.php?ddreset=1" target="_blank"><i class="glyphicon glyphicon-stats"></i> <span>  Zabbix监控Samba流量</span></a>
                    </li>

                    {% if request.session.session_name == 'admin' %}
                    <li>
                        <a href="{% url 'boot_select' %}?mac=11:22:33:aa:bb:cc&ip=172.16.66.100&serial=0" target="_blank"><i class="glyphicon glyphicon-send"></i> <span>  测试网络启动</span></a>
                    </li>
                    {% endif %}
                </ul>
            </li>
            {% url 'update_logs' as Highlighted %}
            <li {% if request.path == Highlighted %}  class="active" {% endif %}>
                <a href="{% url 'update_logs' %}" target="_top"><i class="glyphicon glyphicon-hourglass"></i> <span>更新日志</span><span class="pull-right-container"><small id="new_version" class="label label-primary pull-right"></small></span></a>
            </li>
        </ul>
    </section>
    <!-- /.sidebar -->
    </aside>

    <!-- Content Wrapper. Contains page content 网页正文-->
    <div class="content-wrapper">
        <!-- Content Header (Page header) 网页正文头部-->
        <!--<section class="content-header">-->
            <!--<h1>-->
                <!--PXE-->
                <!--<small>控制系统</small>-->
            <!--</h1>-->
            <!--<ol class="breadcrumb">-->
                <!--<li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>-->
                <!--<li class="active">Dashboard</li>-->
            <!--</ol>-->
        <!--</section>-->

        <!-- Main content 网页正文-->
        <!--<section class="content">-->
            {% block right %}
            {% endblock %}
          <!-- Small boxes (Stat box) -->
        <!--</section>-->
    <!-- /.content -->
    </div>



    <!-- /.content-wrapper 底边-->
    <footer class="main-footer">
        <div class="pull-right hidden-xs">
            <!--<b>Version</b> 2.4.0-->
            <a href="{% url 'update_logs' %}" id="new_version_footer" style='font-size:15px;margin-top:3px;font-family: "华文细黑","Microsoft YaHei","黑体","宋体","sans-serif";'>版本号</a>
        </div>
        <strong>Copyright &copy; 2017-2018 <a href="#">666</a>.</strong> All rights
        reserved.
    </footer>


    <!-- 信息删除确认模态框 -->
    <div class="modal modal-warning fade" id="delcfmModel">
        <div class="modal-dialog">
            <div class="modal-content message_align">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                    <h4 class="modal-title">提示信息</h4>
                </div>
                <div class="modal-body">
                    <p>您确认要删除吗？</p>
                </div>
                <div class="modal-footer">
                    <input type="hidden" id="url"/>
                    <button type="button" class="btn btn-outline pull-left" data-dismiss="modal">取消</button>
                    <a onclick="urlSubmit()" class="btn btn-outline" data-dismiss="modal">确定</a>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->


    <!-- Control Sidebar 侧边栏功能-->
    <aside class="control-sidebar control-sidebar-dark">
    <!-- Create the tabs -->
    <ul class="nav nav-tabs nav-justified control-sidebar-tabs">
      <li><a href="#control-sidebar-home-tab" data-toggle="tab"><i class="fa fa-home"></i></a></li>
      <li><a href="#control-sidebar-settings-tab" data-toggle="tab"><i class="fa fa-gears"></i></a></li>
    </ul>
    <!-- Tab panes -->
    <div class="tab-content">
      <!-- Home tab content -->
      <div class="tab-pane" id="control-sidebar-home-tab">
        <h3 class="control-sidebar-heading">Recent Activity</h3>
        <ul class="control-sidebar-menu">
          <li>
            <a href="javascript:void(0)">
              <i class="menu-icon fa fa-birthday-cake bg-red"></i>

              <div class="menu-info">
                <h4 class="control-sidebar-subheading">Langdon's Birthday</h4>

                <p>Will be 23 on April 24th</p>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <i class="menu-icon fa fa-user bg-yellow"></i>

              <div class="menu-info">
                <h4 class="control-sidebar-subheading">Frodo Updated His Profile</h4>

                <p>New phone +1(800)555-1234</p>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <i class="menu-icon fa fa-envelope-o bg-light-blue"></i>

              <div class="menu-info">
                <h4 class="control-sidebar-subheading">Nora Joined Mailing List</h4>

                <p>nora@example.com</p>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <i class="menu-icon fa fa-file-code-o bg-green"></i>

              <div class="menu-info">
                <h4 class="control-sidebar-subheading">Cron Job 254 Executed</h4>

                <p>Execution time 5 seconds</p>
              </div>
            </a>
          </li>
        </ul>
        <!-- /.control-sidebar-menu -->

        <h3 class="control-sidebar-heading">Tasks Progress</h3>
        <ul class="control-sidebar-menu">
          <li>
            <a href="javascript:void(0)">
              <h4 class="control-sidebar-subheading">
                Custom Template Design
                <span class="label label-danger pull-right">70%</span>
              </h4>

              <div class="progress progress-xxs">
                <div class="progress-bar progress-bar-danger" style="width: 70%"></div>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <h4 class="control-sidebar-subheading">
                Update Resume
                <span class="label label-success pull-right">95%</span>
              </h4>

              <div class="progress progress-xxs">
                <div class="progress-bar progress-bar-success" style="width: 95%"></div>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <h4 class="control-sidebar-subheading">
                Laravel Integration
                <span class="label label-warning pull-right">50%</span>
              </h4>

              <div class="progress progress-xxs">
                <div class="progress-bar progress-bar-warning" style="width: 50%"></div>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <h4 class="control-sidebar-subheading">
                Back End Framework
                <span class="label label-primary pull-right">68%</span>
              </h4>

              <div class="progress progress-xxs">
                <div class="progress-bar progress-bar-primary" style="width: 68%"></div>
              </div>
            </a>
          </li>
        </ul>
        <!-- /.control-sidebar-menu -->

      </div>
      <!-- /.tab-pane -->
      <!-- Stats tab content -->
      <div class="tab-pane" id="control-sidebar-stats-tab">Stats Tab Content</div>
      <!-- /.tab-pane -->
      <!-- Settings tab content -->
      <div class="tab-pane" id="control-sidebar-settings-tab">
        <form method="post">
          <h3 class="control-sidebar-heading">General Settings</h3>

          <div class="form-group">
            <label class="control-sidebar-subheading">
              Report panel usage
              <input type="checkbox" class="pull-right" checked>
            </label>

            <p>
              Some information about this general settings option
            </p>
          </div>
          <!-- /.form-group -->

          <div class="form-group">
            <label class="control-sidebar-subheading">
              Allow mail redirect
              <input type="checkbox" class="pull-right" checked>
            </label>

            <p>
              Other sets of options are available
            </p>
          </div>
          <!-- /.form-group -->

          <div class="form-group">
            <label class="control-sidebar-subheading">
              Expose author name in posts
              <input type="checkbox" class="pull-right" checked>
            </label>

            <p>
              Allow the user to show his name in blog posts
            </p>
          </div>
          <!-- /.form-group -->

          <h3 class="control-sidebar-heading">Chat Settings</h3>

          <div class="form-group">
            <label class="control-sidebar-subheading">
              Show me as online
              <input type="checkbox" class="pull-right" checked>
            </label>
          </div>
          <!-- /.form-group -->

          <div class="form-group">
            <label class="control-sidebar-subheading">
              Turn off notifications
              <input type="checkbox" class="pull-right">
            </label>
          </div>
          <!-- /.form-group -->

          <div class="form-group">
            <label class="control-sidebar-subheading">
              Delete chat history
              <a href="javascript:void(0)" class="text-red pull-right"><i class="fa fa-trash-o"></i></a>
            </label>
          </div>
          <!-- /.form-group -->
        </form>
      </div>
      <!-- /.tab-pane -->
    </div>
    </aside>
    <!-- /.control-sidebar -->
    <!-- Add the sidebar's background. This div must be placed
       immediately after the control sidebar -->
    <div class="control-sidebar-bg"></div>
</div>
<!-- ./wrapper -->



<script type="text/javascript">
//    刷新显示用户申请权限的数量和显示安装任务的数量

    showUserApply();
    showInstallNum();
    showNewVersion();
    showCurrentBoot();
    showInstallDescribe();
    showImageSync();

    setInterval(function() {
        showUserApply();
        showInstallNum();
        showCurrentBoot();
        showInstallDescribe();

    }, 8000);//8秒后执行

    // setInterval(function() {
    //     showImageSync();
    // }, 15000);//15秒后执行

    //显示用户申请的权限数量
    function showUserApply() {
        $.ajax({
            url: '/user/show_user_apply_permissions',
            type: 'GET',
            dataType: 'json',
            timeout: 3000,
            cache: false,
    //        beforeSend: LoadFunction, //加载执行方法
//            error: erryFunction,  //错误执行方法
            success: succFunction, //成功执行方法
        });

        function LoadFunction() {
            $("#messege_num").html('');
        }
        function erryFunction() {
            alert("获取用户错误！");
        }
        var len=0;
        function succFunction(user_apply_json) {
//            alert(user_list_json);

            for(var item in user_apply_json){
                len++;
            }
//            alert(len);
            $("#messege_num").html(len);
        }
    }

    //显示系统安装列表数量
    function showInstallNum() {
        $.ajax({
            url: '/logs/system_install_status_num',
            type: 'GET',
            dataType: 'json',
            timeout: 3000,
            cache: false,
    //        beforeSend: LoadFunction, //加载执行方法
//            error: erryFunction,  //错误执行方法
            success: succFunction, //成功执行方法
        });

        function LoadFunction() {
            $("#install_num").html('');
        }
        function erryFunction() {
            alert("获取任务数量错误！");
        }
        var len=0;
        function succFunction(install_list_json) {
//            alert(install_list_json);

            for(var item in install_list_json){
                len++;
            }
//            alert(len);
            $("#install_num").html(len);
        }
    }
//    显示最新的版本号
    function showNewVersion() {
        $.ajax({
            url: '/get_new_version',
            type: 'GET',
            dataType: 'text',
            timeout: 3000,
            cache: false,
    //        beforeSend: LoadFunction, //加载执行方法
//            error: erryFunction,  //错误执行方法
            success: succFunction, //成功执行方法
        });

        function LoadFunction() {
            $("#new_version").html('');
        }
        function erryFunction() {
            alert("获取错误！");
        }
        var len=0;
        function succFunction(new_version) {
//            alert(new_version);
            $("#new_version").html(new_version);
            $("#new_version_footer").html(new_version);
        }
    }
//    显示当前选择的启动项
    function showCurrentBoot() {
        $.ajax({
            url: '/show_current_select_boot',
            type: 'GET',
            dataType: 'text',
            timeout: 3000,
            cache: false,
//            beforeSend: LoadFunction, //加载执行方法
//            error: erryFunction,  //错误执行方法
            success: succFunction, //成功执行方法
        });

        function LoadFunction() {
            $("#current_select").html('当前选择：');
        }
        function erryFunction() {
            alert("获取错误！");
        }
        var len=0;
        function succFunction(current_select_boot) {
//            alert(new_version);
            $("#current_select").html(current_select_boot);
        }
    }

//    显示镜像同步状态
    function showImageSync() {
        $.ajax({
            url: '/manage/samba_sync_state',
            type: 'GET',
            dataType: 'text',
            timeout: 1000,
            cache: false,
//            beforeSend: LoadFunction, //加载执行方法
//            error: erryFunction,  //错误执行方法
            success: succFunction, //成功执行方法
        });

        function LoadFunction() {
            $("#current_select").html('当前选择：');
        }
        function erryFunction() {
            alert("获取错误！");
        }
        var len=0;
        function succFunction(samba_sync_state) {
//            alert(new_version);
            $("#image_sync").html(samba_sync_state);
        }
    }

//    显示安装简述在页面顶端
    function showInstallDescribe() {
        $.ajax({
            url: '/logs/system_install_status_json',
            type: 'GET',
            dataType: 'json',
            timeout: 3000,
            cache: false,
    //        beforeSend: LoadFunction, //加载执行方法
    //        error: erryFunction,  //错误执行方法
            success: succFunction //成功执行方法
        })

        function LoadFunction() {
            $("#install_status").html('');
        }
        function erryFunction() {
            alert("获取进度日志错误！");
        }

        function succFunction(install_list_json) {
            var json = eval(install_list_json); //数组
    //                var install_list_json = "";
            var install_list_json = '';
            $.each(json, function (index, object) {
                //循环获取数据
    //                    alert('数据编号：' + index);

                var mac = object.fields.mac;
                var get_time = object.fields.get_time;
                var get_time = new Date(get_time).toLocaleString();
                var start_time = object.fields.start_time;
                var start_time = new Date(start_time).toLocaleString();
                var complete_time = object.fields.complete_time;
                var complete_time = new Date(complete_time).toLocaleString();
                var process_time = object.fields.process_time;
                var status = object.fields.status;
    //                    alert(status)
                if (status=='-1')
                    {
                        status='未获取';
                        progress='10';
                        progress_bar='yellow';

                    }
                else if (status=='0')
                    {
                        status='进行中';
                        progress='30';
                        progress_bar='aqua';
                    }
                else if (status=='1')
                    {
                        status='已完成';
                        progress='100';
                        progress_bar='green';
                    }
                else
                    {
                        status='超时异常';
                        progress='50';
                        progress_bar='red';
                    }
    //                    alert(tr_bg)
    //                    alert(Date(start_time).toLocaleString());
    //                    alert(start_time);
                install_list_json += '<li>' +
                                        '<a href="#">' +
                                        '<h3>' +
                                            mac +
                                            '<small class="pull-right">' + status + '</small>' +
                                        '</h3>' +
                                        '<div class="progress xs">' +
                                            '<div class="progress-bar progress-bar-'+ progress_bar + '" style="width: ' + progress + '%" role="progressbar"' +
                                                    'aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">' +
                                                '<span class="sr-only">' + progress + '% 完成</span>' +
                                            '</div>' +
                                        '</div>' +
                                      '</a>' +
                                    '</li>' 

            });

            $("#install_describe").html('');
            $("#install_describe").html(install_list_json);

        }
    }





    </script>
</body>
</html>
